package wxpay

import "testing"

func TestPayRefund(t *testing.T) {
	client := &WxClient{
		AppID:   "wx3474908ee1c58dea",
		MchID:   "1600013944",
		Key:     "Hxf8DV9q21Zi4YYNBpBwpg4Ne1qQqRWN",
		CertPEM: "MIID7DCCAtSgAwIBAgIUeI2AzbMrIOf37hyLV4zg15I2/60wDQYJKoZIhvcNAQELBQAwXjELMAkGA1UEBhMCQ04xEzARBgNVBAoTClRlbnBheS5jb20xHTAbBgNVBAsTFFRlbnBheS5jb20gQ0EgQ2VudGVyMRswGQYDVQQDExJUZW5wYXkuY29tIFJvb3QgQ0EwHhcNMjAwNjA5MDgwNTI4WhcNMjUwNjA4MDgwNTI4WjB+MRMwEQYDVQQDDAoxNjAwMDEzOTQ0MRswGQYDVQQKDBLlvq7kv6HllYbmiLfns7vnu58xKjAoBgNVBAsMIea1meaxn+mHkeWQvuWQjOenkeaKgOaciemZkOWFrOWPuDELMAkGA1UEBgwCQ04xETAPBgNVBAcMCFNoZW5aaGVuMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0YELAIOX0gr4htBR4gh3OWlNDawJQ+g/XJPErwpnFIWHUCfM3uAmY+l3TQ1AUeJ6nB08r/HV3vET9XgSacFl0/S/XYoPQnsqcCyjWzhuyMNHjbOn3KV8j9tSpxVyRG1j5WE41m2LAakO5RGKSDZK1+sF5QvBNEn0phMLCpFLKiYlRXrxbOG+NttpxRV4ARhPdskw4kudpzJw0B0WMlmP08z+jOQWWgtK1j85PsMt1m4KiX2Hux7/Z0WLdPV2sOPnEHKJjAPkbf7BYAAcYigWf4EPtjWZX6upgJI6rGLucOw4p7XzRMkFGCiRqcbXurZNAPl5sK5h6xqwNxAx3cVxTwIDAQABo4GBMH8wCQYDVR0TBAIwADALBgNVHQ8EBAMCBPAwZQYDVR0fBF4wXDBaoFigVoZUaHR0cDovL2V2Y2EuaXRydXMuY29tLmNuL3B1YmxpYy9pdHJ1c2NybD9DQT0xQkQ0MjIwRTUwREJDMDRCMDZBRDM5NzU0OTg0NkMwMUMzRThFQkQyMA0GCSqGSIb3DQEBCwUAA4IBAQAa0fUnc9MW6Z1nCUBsHc4hb4vKMhfazTE4WdkZYOf0K0OzeWIXtIGoJ36k/RtxSisjxnP9UE2QXng35UFE/NVZ29XnCEuq1AmvHxndCZGKrw3883JeobWDD5vPEQSecs5iMhdxSrjzmIul206x74hzrqQQDeHbGXXUMFUHvQR+t+pc2dy3uXO9xO+syroAGQMlsqCecQ6YlJuvdRy4ve43vqBJRmbaMCSTVNf0Fw+KQP/QITzNHweTJ5Ab7Un8rJjpC17S7QLpl77keQTLu4pNkXgow5RmZ912mcuV4uBz4u+ONeSc+N0kR66ekd8ijF7qS0yi8XZUrrrVyQReVXFa",
		KeyPEM:  "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDRgQsAg5fSCviG0FHiCHc5aU0NrAlD6D9ck8SvCmcUhYdQJ8ze4CZj6XdNDUBR4nqcHTyv8dXe8RP1eBJpwWXT9L9dig9CeypwLKNbOG7Iw0eNs6fcpXyP21KnFXJEbWPlYTjWbYsBqQ7lEYpINkrX6wXlC8E0SfSmEwsKkUsqJiVFevFs4b4222nFFXgBGE92yTDiS52nMnDQHRYyWY/TzP6M5BZaC0rWPzk+wy3WbgqJfYe7Hv9nRYt09Xaw4+cQcomMA+Rt/sFgABxiKBZ/gQ+2NZlfq6mAkjqsYu5w7DintfNEyQUYKJGpxte6tk0A+XmwrmHrGrA3EDHdxXFPAgMBAAECggEAMmpmVmJUd6RSOEcLXWSCJFu1wjODK0dJcCLTMvhC5ApaDKz3PS8dre9x2SX2M35X2RekEgcVW4gSMIELlU2IDqCYKI9fqrTu+n2TdhE3f7KWloAERjHArvGtiy27CMJ2Rq3FurwztluTjQZSi5wdGKajDYJtpQKjEBAHGSzrtKF30UcwCIqnLN2GeaNzuBz1r/DY8422AQgTv41E9p/TaTinyMs7AMDGWn0QwLDBVo7sDUqme4dYFNQIXfU3tNaP2hlOTbZeiO8g0wyy66UXikdj6bryglSQIdGrw9BcHKf1RClVDMsROhRXpKpR5ayketaqvPxqQAPuBomJhti92QKBgQDvxInyCsFeqWEJyw7nt/koYe/S8HFApbs8UI/Zixxs/fdPZhz2INZtPD8u7AkfqPiaqZybcD9/y1YjuwyJOrE/bD4VpvmNtWxqzUj2xq8R7EjoW9wz9XGawk10JVoXV/Y4s7DzgUaCKQEv0L0NDlwYYhK+uADQupbhhui2otIzQwKBgQDfr/+y8x5hmxHAhhyeFxUoI15LlFgS2CtWuNXV8/0ZVq+SEnRoxBgJCPUg12Kk0x8i1RrsvnuDgIh9M6SP/r1lxrIuiJ5sGBJmHuv3peTIAZmsppxmONjNXpURPKwXBSgHc1o3IVCD/KZfSHD4sSX70OT78FUEF1Xq/Vy9FB47BQKBgGA54prvUhfppnZFtl+s6CQa2iMwOGOXoANe2byXJftgGacV9j2ZhDUm3ry4IhlAuTVpKN8BN5rUQmfoo+lXUtd/W5NZBgKnczGR3dycdJqe18vZQhDgSo2vuWIJs5R2yuyKwVOY6HFIf59vCNB6mN94TMmaE0mx+OfeOvtBcVb9AoGBAMf7sb9rXF4nJVfajvtH58Ja3JL1rUgru5Ns7MC7wixFM/KETU7dAiARwhX6elah6dRachf2tLZ804ocAaQ7O1kiq2qu+fPqEYj7XDusNT4bMCkLTAiYCjyRsvQWKkTqdz8yAhYH0tQtrRDC0z2EI1FfEVmtJFTkCAxvN9pTgjOBAoGAJqUoZSQeBBojWZiRytEPpO+i0+HJovCu6BPMJCNG83j98oefciAaPq0FFyoIUeXMyhSWrXCLLER8YlijrwERAWFM7gnYrAkFmW+dZ2HTodxa2YTcDg4QIOzsf4riTzLsPOnT3UGa+9M9EkvDbJADjlFa36iOn0uoc/nwDcYF9Yg=",
	}
	req := &PayRefundRequest{
		OutRefundNo: "dfsefwdcweiojc3o233",
		RefundDesc:  "退款",
		TotalFee:    0.01,
		RefundFee:   0.01,
		OutTradeNo:  "1320200729184032cPnRz9cJC3",
		OpenId:      "oQ1W_4tgAd51uSJFhXQDGyfmRiSM",
	}
	res, err := client.PayRefund(req)
	if err != nil {
		t.Logf("%v", err)
	}
	t.Logf("%v", res)

}
